let pgn = `[Event "flashcards2: Kollars, Dmitrij - Papp, Sarah"]
[Site "Bremen GER"]
[Date "2020.10.10"]
[Round "1.4"]
[White "Kollars, Dmitrij"]
[Black "Papp, Sarah"]
[Result "1-0"]
[WhiteElo "2588"]
[WhiteTitle "GM"]
[WhiteFideId "12909572"]
[BlackElo "2327"]
[BlackTitle "WGM"]
[BlackFideId "24606812"]
[UTCDate "2023.04.26"]
[UTCTime "15:52:36"]
[Variant "Standard"]
[ECO "C03"]
[Opening "French Defense: Tarrasch Variation, Morozevich Variation"]
[Annotator "https://lichess.org/@/sharepointme"]

{ "fen": "rnbqk2r/ppp1bppp/4pn2/8/3Pp3/3B1N2/PPPN1PPP/R1BQK2R w KQkq - 0 6",
"opening":"French Defence",
"variation":"Tarrasch, Morozevich Variation",
"variationLine":"1.e4 e6 2.d4 d5 3.Nd2 Be7 4.Ngf3 Nf6 5.Bd3 dxe4",
"gameTitle": "Kollars, Dmitrij - Papp, Sarah" }
1. e4 e6 2. d4 d5 3. Nd2 Be7 4. Ngf3 Nf6 5. Bd3 dxe4 6. Nxe4 Nbd7 7. c3 Nxe4 8. Bxe4 Nf6 9. Bc2 O-O 10. Bg5 h6 11. Bxf6 Bxf6 12. Qd3 Re8 13. O-O-O Qd5 14. Kb1 b5 15. Qh7+ Kf8 16. Be4 { 1-0 White wins. } 1-0


[Event "flashcards2: Naroditsky, D - Terry, R"]
[Site "chess.com INT"]
[Date "2022.11.10"]
[Round "8"]
[White "Naroditsky, D"]
[Black "Terry, R"]
[Result "1-0"]
[WhiteElo "2617"]
[WhiteTitle "GM"]
[WhiteFideId "2026961"]
[BlackElo "2516"]
[BlackTitle "IM"]
[BlackFideId "3803457"]
[UTCDate "2023.04.26"]
[UTCTime "15:52:36"]
[Variant "Standard"]
[ECO "C03"]
[Opening "French Defense: Tarrasch Variation, Morozevich Variation"]
[Annotator "https://lichess.org/@/sharepointme"]

{ "fen": "rnbqk2r/pppnbppp/4p3/3pP3/3P4/5N2/PPPN1PPP/R1BQKB1R w KQkq - 1 6",
"opening":"French Defence",
"variation":"Tarrasch, Morozevich Variation",
"variationLine":"1.e4 e6 2.d4 d5 3.Nd2 Be7 4.Ngf3 Nf6 5.e5 Nfd7",
"gameTitle": "Naroditsky, D - Terry, R" }
1. e4 e6 2. d4 d5 3. Nd2 Be7 4. Ngf3 Nf6 5. e5 Nfd7 6. Bd3 c5 7. c3 Nc6 8. O-O a5 9. a4 Qb6 10. dxc5 Nxc5 11. Bc2 Bd7 12. Re1 Qa6 13. Nf1 O-O 14. Ng3 Rfe8 15. Ng5 Bxg5 16. Bxg5 Ne7 17. Nh5 Qc4 18. Nxg7 Ng6 19. Nh5 { 1-0 White wins. } 1-0


[Event "flashcards2: Delgado Ramirez, N - Rodriguez Vila, A"]
[Site "Florianopolis BRA"]
[Date "2020.01.25"]
[Round "9.1"]
[White "Delgado Ramirez, N"]
[Black "Rodriguez Vila, A"]
[Result "1-0"]
[WhiteElo "2636"]
[WhiteTitle "GM"]
[WhiteFideId "3503631"]
[BlackElo "2469"]
[BlackTitle "GM"]
[BlackFideId "3000010"]
[UTCDate "2023.04.26"]
[UTCTime "15:52:36"]
[Variant "Standard"]
[ECO "C03"]
[Opening "French Defense: Tarrasch Variation, Morozevich Variation"]
[Annotator "https://lichess.org/@/sharepointme"]

{ "fen": "rnbqk1nr/pp2bppp/4p3/2pp4/3PP3/5N2/PPPN1PPP/R1BQKB1R w KQkq - 0 5",
"opening":"French Defence",
"variation":"Tarrasch, Morozevich Variation",
"variationLine":"1.e4 e6 2.d4 d5 3.Nd2 Be7 4.Ngf3 c5",
"gameTitle": "Delgado Ramirez - Rodriguez Vila" }
1. e4 e6 2. d4 d5 3. Nd2 Be7 4. Ngf3 c5 5. exd5 cxd4 6. Nxd4 Qxd5 7. Nb5 Na6 8. Nc3 Qe5+ 9. Be2 Nf6 10. Nc4 Qb8 11. O-O O-O 12. Bf3 Nb4 13. Qe2 Qc7 14. Nb5 Qc5 15. a4 Nfd5 16. c3 Na6 17. b4 Qc6 18. Ne5 Qe8 19. Rd1 f6 20. Nc4 Bd7 21. Ncd6 Bxd6 22. Nxd6 Qg6 23. Bd2 Nac7 24. Bh5 Qc2 25. Rdc1 Qb3 26. Nxb7 Qb2 27. Qd1 Bc6 28. Na5 Rad8 29. Nc4 Nxc3 30. Bxc3 Rxd1+ 31. Bxd1 Qxa1 32. Bxa1 Nd5 33. b5 Ba8 34. Nd6 Nf4 35. f3 { 1-0 White wins. } 1-0


[Event "Titled Tuesday 4th May"]
[Site "chess.com INT"]
[Date "2021.05.04"]
[Round "7"]
[White "Pein, Jonathan"]
[Black "Shapiro, Dav"]
[Result "0-1"]
[WhiteElo "2185"]
[WhiteTitle "CM"]
[WhiteFideId "417092"]
[BlackElo "2395"]
[BlackTitle "FM"]
[BlackFideId "24133523"]
[UTCDate "2023.04.26"]
[UTCTime "15:52:36"]
[Variant "Standard"]
[ECO "B10"]
[Opening "Caro-Kann Defense: Euwe Attack"]
[Annotator "https://lichess.org/@/sharepointme"]

{ "fen": "rnbqkbnr/pp2pppp/2p5/3p4/4P3/1P6/PBPP1PPP/RN1QKBNR b KQkq - 1 3",
"opening":"Caro-Kann Defence",
"variation":"Euwe Attack",
"variationLine":"1.e4 c6 2.b3 d5 3.Bb2",
"gameTitle": "Pein, J- Shapiro, D" }
1. e4 c6 2. b3 d5 3. Bb2 dxe4 4. Nc3 Nf6 5. Nge2 Bf5 6. Ng3 Bg6 7. Qe2 e6 8. Ngxe4 Nbd7 9. g3 Be7 10. Bg2 O-O 11. O-O Nxe4 12. Nxe4 Nf6 13. d3 Nxe4 14. dxe4 Qa5 15. a3 Rfd8 16. b4 Qa4 17. Rad1 a5 18. h4 h5 19. Bf3 axb4 20. Bxh5 bxa3 21. Ba1 Qxe4 { 0-1 Black wins. } 0-1




`;

let lines = pgn.split(/[\r\n]/).filter(l => l[0] !== "[").filter(l => l.trim().length !== 0);


let cards = [];
let json = '';
for (let i = 0; i < lines.length; i++) {
  const line = lines[i];
  if (line[0] == "1") {
    let card = json == '' ? {
      "fen": "",
      "opening": "?",
      "variation": "?",
      "variationLine": "?",
      "gameTitle": "?"
    } : JSON.parse(json);
    card.modelGame = line;
    json = '';
    card.modelGame = line;
    cards.push(card);
  }
  else {
    json = json + line + '\n';
  }
}

export let cardData = cards;
